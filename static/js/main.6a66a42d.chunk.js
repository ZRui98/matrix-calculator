(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,n,t){e.exports=t(67)},27:function(e,n,t){},29:function(e,n,t){},39:function(e,n,t){},43:function(e,n,t){},67:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(18),c=t.n(i),u=(t(27),t(9)),o=t(1),l=t(2),s=t(4),f=t(3),p=t(5),m=(t(29),t(19)),h=t.n(m),v=t(8),g=t.n(v),d=t(20),E=t.n(d),y=function(){function e(n,t){Object(o.a)(this,e),this.data=n,this.rows=n?n.length:0,this.columns=n&&n[0]?n[0].length:0,this.invalid=!1,this.id=parseInt(E()(),16),this.type=t.type}return Object(l.a)(e,[{key:"getProperties",value:function(){return{type:this.type}}}]),e}(),b=(t(39),t(6)),O=t.n(b),R=(O.a.shape({data:O.a.arrayOf(O.a.arrayOf(O.a.string)).isRequired,rows:O.a.number.isRequired,columns:O.a.number.isRequired,id:O.a.number.isRequired,invalid:O.a.bool.isRequired,type:O.a.string.isRequired}),Object.freeze({REDUCE:"Reduce",ADD:"Add",MULTIPLY:"Multiply",TRANSPOSE:"Transpose"})),w=function(e){var n=e.changeValue,t=e.value,a=e.label;return r.a.createElement("div",{className:"dimensionWrapper"},r.a.createElement("div",{className:"dimensionLabel"},a,":"),r.a.createElement("div",{className:"dimensionControls"},r.a.createElement("input",{type:"button",onClick:function(){return n(t-1)},value:"-1"}),r.a.createElement("input",{className:"dimensionInput",type:"string",value:t,onChange:function(e){return n(e.target.value)}}),r.a.createElement("input",{type:"button",onClick:function(){return n(t+1)},value:"+1"})))},C=function(e){function n(){var e,t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(f.a)(n)).call.apply(e,[this].concat(r)))).changeRows=function(e){var n=t.props,a=n.changeRows;n.matrices.forEach(function(n){a(e,n.id)})},t.changeColumns=function(e){var n=t.props,a=n.changeColumns;n.matrices.forEach(function(n){a(e,n.id)})},t}return Object(p.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this,n=this.props.matrices[0],t=n.rows,a=n.columns;return r.a.createElement("div",null,r.a.createElement(w,{label:"Rows",value:t,changeValue:function(n){return e.changeRows(n)}}),r.a.createElement(w,{label:"Columns",value:a,changeValue:function(n){return e.changeColumns(n)}}))}}]),n}(a.Component),j=function(e){function n(){var e,t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(f.a)(n)).call.apply(e,[this].concat(r)))).changeRows=function(e,n){(0,t.props.changeRows)(e,n)},t.changeColumns=function(e,n){(0,t.props.changeColumns)(e,n)},t}return Object(p.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this,n=this.props.matrix,t=n.rows,a=n.columns,i=n.id;return r.a.createElement("div",null,r.a.createElement(w,{label:"Rows",value:t,changeValue:function(n){return e.changeRows(n,i)}}),r.a.createElement(w,{label:"Columns",value:a,changeValue:function(n){return e.changeColumns(n,i)}}))}}]),n}(a.Component),k=function(e){function n(e){var t;Object(o.a)(this,n),(t=Object(s.a)(this,Object(f.a)(n).call(this,e))).changeRows=function(e,n){(0,t.props.changeRows)(e,n)},t.changeColumns=function(e,n){(0,t.props.changeColumns)(e,n)},t.changeDependantDimension=function(e){var n=t.props.matrices;t.changeColumns(e,n[0].id),t.changeRows(e,n[1].id)};var a=e.matrices;return t.matrix=a.find(function(e){return"input"===e.type}),t}return Object(p.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this,n=this.props.matrices,t=n[0],a=t.rows,i=t.columns;return r.a.createElement("div",null,r.a.createElement(w,{label:"Rows",value:a,changeValue:function(t){return e.changeRows(t,n[0].id)}}),r.a.createElement(w,{label:"Dependant",value:i,changeValue:function(n){return e.changeDependantDimension(n)}}),r.a.createElement(w,{label:"Columns",value:n[1].columns,changeValue:function(t){return e.changeColumns(t,n[1].id)}}))}}]),n}(a.Component),S=function(e){var n=e.changeOperation,t=Object.keys(R).map(function(e){return r.a.createElement("option",{key:e,value:R[e]},R[e])});return r.a.createElement("label",{htmlFor:"operations"},"Operation:",r.a.createElement("select",{id:"operations",onChange:function(e){return n(e.target.value)}},t))},N=function(e){var n=e.operation,t=e.changeOperation,a=e.changeRows,i=e.changeColumns,c=e.matrices,u="";return n===R.REDUCE||n===R.TRANSPOSE?u=r.a.createElement(j,{changeRows:a,changeColumns:i,matrix:c.find(function(e){return"input"===e.type})}):n===R.ADD?u=r.a.createElement(C,{changeRows:a,changeColumns:i,matrices:c}):n===R.MULTIPLY&&(u=r.a.createElement(k,{changeRows:a,changeColumns:i,matrices:c})),r.a.createElement("div",{className:"controls"},r.a.createElement(S,{changeOperation:t}),u)},T=(t(43),function(e){function n(e){var t;return Object(o.a)(this,n),(t=Object(s.a)(this,Object(f.a)(n).call(this,e))).validate=function(e){var n=e.target.value;""===n&&(n="0");if((n=n.replace(/^(0+)?(?=(0\.|[0-9])|-)/,"")).match(/^-?[0-9]*(\/)?(-?([1-9][0-9]*))?$|^-$/g)){var a=t.props.changeCell,r=n.endsWith("/");t.setState({invalid:r}),a(n)}},t.state={invalid:!1},t}return Object(p.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this.props,n=e.readOnly,t=e.style,a=e.cellValue,i=this.props.className;return this.state.invalid&&(i+=" invalid"),r.a.createElement("input",{disabled:n,className:i,style:t,type:"text",value:a,onChange:n?null:this.validate})}}]),n}(a.Component));T.defaultProps={readOnly:!0};var x=T,A=function(e){var n=e.matrix,t=e.changeCell,a={width:"".concat(60/n.columns,"%")},i=[];n.invalid&&i.push(r.a.createElement("div",{key:"invalid"},"Matrix is invalid!"));var c=n.data.map(function(e,i){var c=i*n.id,u=e.map(function(e,c){var u=i*n.columns+c*n.id,o="result"===n.type;return r.a.createElement(x,{readOnly:o,className:"cell",style:a,type:"text",cellValue:e,changeCell:function(e){t(e,i,c,n.id)},key:u})});return r.a.createElement("div",{className:"row",key:c},u)});return r.a.createElement("div",{className:"matrixDisplay"},r.a.createElement("div",{className:"messages"},i),c)},I=t(21),M=t.n(I),U=function(e,n,t){var a=t.map(function(e){return e.slice()}),r=t[e].slice(0);return a[e]=t[n].slice(0),a[n]=r,a=a.map(function(e){return e.map(function(e){return e})})},L=function(e,n){return e.map(function(e){return e.mul(n)})},P=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=L(e,t);return n.map(function(e,n){return e.sub(a[n])})},V={getFractionData:function(e){return e.map(function(e){return e.map(function(e){return new g.a(e)})})},getStringData:function(e){return e.map(function(e){return e.map(function(e){return e.toFraction(!1)})})},bringToREF:function(e){for(var n=e.map(function(e){return e.slice()}),t=0,a=0,r={x:t,y:a},i=function(e,n,t){for(var a=e;a<t[0].length;a+=1)for(var r=n;r<t.length;r+=1)if(0!==t[r][a].valueOf())return{x:a,y:r};return null},c=function(e,r){var i=t+r+1,c=n[i][a].valueOf();0!==c&&(n[i]=P(n[t],n[i],c))};t<n.length&&(r=i(a,t,n));){n=U(t,r.y,n),a=r.x;var u=n[t][r.x],o=[u.s*u.d,u.n];n[t]=L(n[t],o),n.slice(t+1).forEach(c),t+=1,a+=1}return n},bringToRREF:function(e){if(void 0===e||null===e)return null;var n=e.map(function(e){return e.slice()});n=V.bringToREF(e);for(var t=e.length-1,a=function(e){return n.slice(0,t).forEach(function(a,r){if(0!==a[e].valueOf()){var i=n[r][e].valueOf();n[r]=P(n[t],n[r],i)}})};t>0;){var r=n[t].findIndex(function(e){return 1===e.valueOf()});-1!==r&&a(r),t-=1}return n},add:function(e,n){return e.map(function(e,t){return function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=L(e,t);return n.map(function(e,n){return e.add(a[n])})}(e,n[t])})},transpose:function(e){return M.a.apply(void 0,Object(u.a)(e))},multiply:function(e,n){var t=e.map(function(e){return e.slice()}),a=V.transpose(n),r=t.map(function(e){return a.map(function(n){return t=n,e.reduce(function(e,n,a){var r=t[a];return e+n.mul([r.s*r.n,r.d])},0);var t})});return V.getFractionData(r)}},q=V,D=function(e){function n(){var e;Object(o.a)(this,n),(e=Object(s.a)(this,Object(f.a)(n).call(this))).getFractionData=function(e){return e.map(function(e){return e.map(function(e){return new g.a(e)})})},e.getResult=h()(function(){for(var n=e.state,t=n.operation,a=n.matrices,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];var u,o=e.findMatrix(i[0]),l=[];if(i.forEach(function(n){var t=function(n){var t=n;try{return t.invalid=!1,e.changeMatrix(t,t.id),q.getFractionData(t.data)}catch(a){return t.invalid=!0,e.changeMatrix(t,t.id),null}}(e.findMatrix(n));t||(u=!0),l.push(t)}),!u){var s,f=a.findIndex(function(e){return"result"===e.type});if(t===R.REDUCE){e.changeMatrix(o,o.id);var p=q.bringToRREF(l[0]);s=q.getStringData(p)}else if(t===R.ADD){var m=q.add(l[0],l[1]);s=q.getStringData(m)}else if(t===R.MULTIPLY){var h=q.multiply(l[0],l[1]);s=q.getStringData(h)}else if(t===R.TRANSPOSE){var v=q.transpose(l[0]);s=q.getStringData(v)}var g=new y(s,{type:"result"});if(-1!==f){var d=a[f].id;e.changeMatrix(d,g)}else e.addMatrix(g)}},500),e.findMatrix=function(n){return e.state.matrices.find(function(e){return e.id===n})},e.findMatrixIndex=function(n){return e.state.matrices.findIndex(function(e){return e.id===n})},e.removeResultMatrix=function(){var n=e.state.matrices,t=n.findIndex(function(e){return"result"===e.type});-1!==t&&(n.pop(t),e.setState({matrices:n}))},e.createMatrixData=function(e,n){return Array(e).fill().map(function(){return Array(n).fill("0")})},e.changeColumns=function(n,t){if(!(n<0)){var a=e.findMatrix(t),r=a.columns,i=a.data;i.forEach(function(e){for(var t=n-r;t<0;)t+=1,e.pop();for(;t>0;)t-=1,e.push("0")}),a.columns=parseInt(n,10)||0,a.data=i,e.changeMatrix(t,a),e.removeResultMatrix()}},e.changeRows=function(n,t){if(!(n<0)){for(var a=e.findMatrix(t),r=a.rows,i=a.columns,c=a.data,u=n-r;u<0;)u+=1,c.pop();for(;u>0;)u-=1,c.push(new Array(parseInt(i,10)).fill("0"));a.rows=parseInt(n,10)||0,a.data=c,e.changeMatrix(t,a),e.removeResultMatrix()}},e.changeMatrix=function(n,t){var a=e.state.matrices,r=e.findMatrixIndex(n);if(r>=a.length)throw new Error("Invalid matrixIndex");a[r]=t,e.setState({matrices:a})},e.addMatrix=function(n){var t=e.state.matrices;t.push(n),e.setState({matrices:t})},e.setCellInvalid=function(n,t){var a=e.findMatrix(n);a.invalid=t,e.changeMatrix(n,a)},e.changeCell=function(n,t,a,r){var i,c=e.findMatrix(r);if(c.data[t][a]=n.toString(),e.changeMatrix(r,c),e.state.operation!==R.REDUCE){var o=e.state.matrices.filter(function(e){return"input"===e.type}).map(function(e){return e.id});(i=e).getResult.apply(i,Object(u.a)(o))}else e.getResult(r)},e.changeOperation=function(n){var t=[];n===R.REDUCE||n===R.TRANSPOSE?t.push(new y(e.createMatrixData(3,3),{type:"input"})):n!==R.ADD&&n!==R.MULTIPLY||(t.push(new y(e.createMatrixData(3,3),{type:"input"})),t.push(new y(e.createMatrixData(3,3),{type:"input"}))),e.setState({operation:n,matrices:t})},e.state={operation:R.REDUCE,matrices:[]};return e.state.matrices.push(new y([["0","0","0"],["0","0","0"],["0","0","0"]],{type:"input"})),e}return Object(p.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this,n=this.state,t=n.operation,a=n.operations,i=n.matrices,c=i.filter(function(e){return"result"!==e.type}).map(function(n){return r.a.createElement("div",{className:"matrix",key:"matrix".concat(n.id)},r.a.createElement(A,{key:"display".concat(n.id),matrix:n,changeCell:e.changeCell}))}),u=i.find(function(e){return"result"===e.type}),o=u&&u.data&&u.data.length>0&&u.data[0].length>0?r.a.createElement("div",{className:"resultMatrix"},r.a.createElement("div",null,"RESULT"),r.a.createElement(A,{key:u.id,matrix:u,changeCell:this.changeCell})):"";return r.a.createElement("div",null,r.a.createElement(N,{matrices:i,operation:t,operations:a,changeRows:this.changeRows,changeColumns:this.changeColumns,changeOperation:this.changeOperation}),r.a.createElement("div",{className:"matrices"},c),o)}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,2,1]]]);
//# sourceMappingURL=main.6a66a42d.chunk.js.map